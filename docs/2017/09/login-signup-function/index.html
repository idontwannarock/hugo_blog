<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.55.2 with theme Tranquilpeak 0.4.3-SNAPSHOT">
<meta name="author" content="Howard Wang">
<meta name="keywords" content="php, mysql, login, signup">
<meta name="description" content="學習目標  實作簡單會員系統，有加入會員、登入、登出 cookie 防範 SQL Injection&#43;XSS hash密碼  學習內容 構思 坦白說，我有自學過一點點前後端的 Udemy網路課程，所以前端的部分，簡單的 HTML, CSS, Javascript, jQuery我還可以，大概是不會寫也可以谷哥看別人怎麼寫的程度。後端也是學過簡單的 PHP跟 MySQL這樣。所以後面的說明很可能會省略很多基礎，而只記錄我不太會或不太熟的部分。
關於會員系統，Udemy課程的老師其實有教過這個部分，但當時似懂非懂，幾乎就是 copy老師的程式碼，糊里糊塗就寫出來，PHP跟 MySQL的部分一片模糊，所以先來嘗試自己重新寫一遍，不行再來找找看網路教學。
要寫登入登出的功能，我第一個想到就是要用 HTML的form先做三個input跟一個button，若要串接資料庫，應該還要再作一個button切換 Sign Up跟 Login畫面來作區別。預計應該要用 jQuery控制切換 Sign Up/Login的功能。
然後後端邏輯應該就是先作 Sign Up/Login資料的驗證部分，用ajax傳輸資料到後端，檢查輸入的username、email跟password是否空白、格式是否正確以及是否重複，用echo輸出錯誤提示訊息給前端。
接著作 Sign Up部分，接著剛剛驗證完資料正確後，檢查資料庫有無重複資料後，再把username、email跟password存進資料庫。
最後再作 Login部分，先用使用者輸入的username比對資料庫有無紀錄，再比對password，最後輸出 Login成功訊息。這邊會感覺會需要了解$_SESSION跟$_COOKIE怎麼運作，因為要幫 Sign Up/Login成功的使用者加上$_SESSION或$_COOKIE。
接著作 SQL Injection及 XSS攻擊的防範。最後再將使用者 Sign Up時輸入的password作 hash處理。
另外以下是以只架站在自己 Windows電腦的 XAMPP上為前提，XAMPP架站簡單教學可以看我之前寫的這篇筆記：XAMPP安裝設定及簡單 PHP練習。
還有就是如果想要讓自己寫完的作品可以讓別人看到，可能要自己先想辦法查做法，我自己都還搞不太清楚。（攤手）
版面設定 所以就從寫個form、三個input跟兩個按鈕開始好了。我猶豫了一下要不要用 Bootstrap，還是用好了，畢竟練習的重點在後端，畫面就直接套用現成的版就好。
所以直接就貼上 Bootstrap 4的Starter template，因為後面要用ajax，所以 jQeury的版本記得從 slim換成最起碼 min的版本。然後直接用 Bootstrap的Forms作模板。
切換功能 接下來就是複習 jQuery語法的時候，因為這邊用到的功能不難所以不多講。大概方向就是在click動作上建立一個判斷式，判斷目前是 Login轉 Sign Up要做什麼事；Sign Up轉 Login要做什麼事。這部分的script我是寫在body的最後。">


<meta property="og:description" content="學習目標  實作簡單會員系統，有加入會員、登入、登出 cookie 防範 SQL Injection&#43;XSS hash密碼  學習內容 構思 坦白說，我有自學過一點點前後端的 Udemy網路課程，所以前端的部分，簡單的 HTML, CSS, Javascript, jQuery我還可以，大概是不會寫也可以谷哥看別人怎麼寫的程度。後端也是學過簡單的 PHP跟 MySQL這樣。所以後面的說明很可能會省略很多基礎，而只記錄我不太會或不太熟的部分。
關於會員系統，Udemy課程的老師其實有教過這個部分，但當時似懂非懂，幾乎就是 copy老師的程式碼，糊里糊塗就寫出來，PHP跟 MySQL的部分一片模糊，所以先來嘗試自己重新寫一遍，不行再來找找看網路教學。
要寫登入登出的功能，我第一個想到就是要用 HTML的form先做三個input跟一個button，若要串接資料庫，應該還要再作一個button切換 Sign Up跟 Login畫面來作區別。預計應該要用 jQuery控制切換 Sign Up/Login的功能。
然後後端邏輯應該就是先作 Sign Up/Login資料的驗證部分，用ajax傳輸資料到後端，檢查輸入的username、email跟password是否空白、格式是否正確以及是否重複，用echo輸出錯誤提示訊息給前端。
接著作 Sign Up部分，接著剛剛驗證完資料正確後，檢查資料庫有無重複資料後，再把username、email跟password存進資料庫。
最後再作 Login部分，先用使用者輸入的username比對資料庫有無紀錄，再比對password，最後輸出 Login成功訊息。這邊會感覺會需要了解$_SESSION跟$_COOKIE怎麼運作，因為要幫 Sign Up/Login成功的使用者加上$_SESSION或$_COOKIE。
接著作 SQL Injection及 XSS攻擊的防範。最後再將使用者 Sign Up時輸入的password作 hash處理。
另外以下是以只架站在自己 Windows電腦的 XAMPP上為前提，XAMPP架站簡單教學可以看我之前寫的這篇筆記：XAMPP安裝設定及簡單 PHP練習。
還有就是如果想要讓自己寫完的作品可以讓別人看到，可能要自己先想辦法查做法，我自己都還搞不太清楚。（攤手）
版面設定 所以就從寫個form、三個input跟兩個按鈕開始好了。我猶豫了一下要不要用 Bootstrap，還是用好了，畢竟練習的重點在後端，畫面就直接套用現成的版就好。
所以直接就貼上 Bootstrap 4的Starter template，因為後面要用ajax，所以 jQeury的版本記得從 slim換成最起碼 min的版本。然後直接用 Bootstrap的Forms作模板。
切換功能 接下來就是複習 jQuery語法的時候，因為這邊用到的功能不難所以不多講。大概方向就是在click動作上建立一個判斷式，判斷目前是 Login轉 Sign Up要做什麼事；Sign Up轉 Login要做什麼事。這部分的script我是寫在body的最後。">
<meta property="og:type" content="article">
<meta property="og:title" content="實作簡單登入會員系統(1)">
<meta name="twitter:title" content="實作簡單登入會員系統(1)">
<meta property="og:url" content="https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
<meta property="twitter:url" content="https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
<meta property="og:site_name" content="Wang&#39;s Blog">
<meta property="og:description" content="學習目標  實作簡單會員系統，有加入會員、登入、登出 cookie 防範 SQL Injection&#43;XSS hash密碼  學習內容 構思 坦白說，我有自學過一點點前後端的 Udemy網路課程，所以前端的部分，簡單的 HTML, CSS, Javascript, jQuery我還可以，大概是不會寫也可以谷哥看別人怎麼寫的程度。後端也是學過簡單的 PHP跟 MySQL這樣。所以後面的說明很可能會省略很多基礎，而只記錄我不太會或不太熟的部分。
關於會員系統，Udemy課程的老師其實有教過這個部分，但當時似懂非懂，幾乎就是 copy老師的程式碼，糊里糊塗就寫出來，PHP跟 MySQL的部分一片模糊，所以先來嘗試自己重新寫一遍，不行再來找找看網路教學。
要寫登入登出的功能，我第一個想到就是要用 HTML的form先做三個input跟一個button，若要串接資料庫，應該還要再作一個button切換 Sign Up跟 Login畫面來作區別。預計應該要用 jQuery控制切換 Sign Up/Login的功能。
然後後端邏輯應該就是先作 Sign Up/Login資料的驗證部分，用ajax傳輸資料到後端，檢查輸入的username、email跟password是否空白、格式是否正確以及是否重複，用echo輸出錯誤提示訊息給前端。
接著作 Sign Up部分，接著剛剛驗證完資料正確後，檢查資料庫有無重複資料後，再把username、email跟password存進資料庫。
最後再作 Login部分，先用使用者輸入的username比對資料庫有無紀錄，再比對password，最後輸出 Login成功訊息。這邊會感覺會需要了解$_SESSION跟$_COOKIE怎麼運作，因為要幫 Sign Up/Login成功的使用者加上$_SESSION或$_COOKIE。
接著作 SQL Injection及 XSS攻擊的防範。最後再將使用者 Sign Up時輸入的password作 hash處理。
另外以下是以只架站在自己 Windows電腦的 XAMPP上為前提，XAMPP架站簡單教學可以看我之前寫的這篇筆記：XAMPP安裝設定及簡單 PHP練習。
還有就是如果想要讓自己寫完的作品可以讓別人看到，可能要自己先想辦法查做法，我自己都還搞不太清楚。（攤手）
版面設定 所以就從寫個form、三個input跟兩個按鈕開始好了。我猶豫了一下要不要用 Bootstrap，還是用好了，畢竟練習的重點在後端，畫面就直接套用現成的版就好。
所以直接就貼上 Bootstrap 4的Starter template，因為後面要用ajax，所以 jQeury的版本記得從 slim換成最起碼 min的版本。然後直接用 Bootstrap的Forms作模板。
切換功能 接下來就是複習 jQuery語法的時候，因為這邊用到的功能不難所以不多講。大概方向就是在click動作上建立一個判斷式，判斷目前是 Login轉 Sign Up要做什麼事；Sign Up轉 Login要做什麼事。這部分的script我是寫在body的最後。">
<meta name="twitter:description" content="學習目標  實作簡單會員系統，有加入會員、登入、登出 cookie 防範 SQL Injection&#43;XSS hash密碼  學習內容 構思 坦白說，我有自學過一點點前後端的 Udemy網路課程，所以前端的部分，簡單的 HTML, CSS, Javascript, jQuery我還可以，大概是不會寫也可以谷哥看別人怎麼寫的程度。後端也是學過簡單的 PHP跟 MySQL這樣。所以後面的說明很可能會省略很多基礎，而只記錄我不太會或不太熟的部分。
關於會員系統，Udemy課程的老師其實有教過這個部分，但當時似懂非懂，幾乎就是 copy老師的程式碼，糊里糊塗就寫出來，PHP跟 MySQL的部分一片模糊，所以先來嘗試自己重新寫一遍，不行再來找找看網路教學。
要寫登入登出的功能，我第一個想到就是要用 HTML的form先做三個input跟一個button，若要串接資料庫，應該還要再作一個button切換 Sign Up跟 Login畫面來作區別。預計應該要用 jQuery控制切換 Sign Up/Login的功能。
然後後端邏輯應該就是先作 Sign Up/Login資料的驗證部分，用ajax傳輸資料到後端，檢查輸入的username、email跟password是否空白、格式是否正確以及是否重複，用echo輸出錯誤提示訊息給前端。
接著作 Sign Up部分，接著剛剛驗證完資料正確後，檢查資料庫有無重複資料後，再把username、email跟password存進資料庫。
最後再作 Login部分，先用使用者輸入的username比對資料庫有無紀錄，再比對password，最後輸出 Login成功訊息。這邊會感覺會需要了解$_SESSION跟$_COOKIE怎麼運作，因為要幫 Sign Up/Login成功的使用者加上$_SESSION或$_COOKIE。
接著作 SQL Injection及 XSS攻擊的防範。最後再將使用者 Sign Up時輸入的password作 hash處理。
另外以下是以只架站在自己 Windows電腦的 XAMPP上為前提，XAMPP架站簡單教學可以看我之前寫的這篇筆記：XAMPP安裝設定及簡單 PHP練習。
還有就是如果想要讓自己寫完的作品可以讓別人看到，可能要自己先想辦法查做法，我自己都還搞不太清楚。（攤手）
版面設定 所以就從寫個form、三個input跟兩個按鈕開始好了。我猶豫了一下要不要用 Bootstrap，還是用好了，畢竟練習的重點在後端，畫面就直接套用現成的版就好。
所以直接就貼上 Bootstrap 4的Starter template，因為後面要用ajax，所以 jQeury的版本記得從 slim換成最起碼 min的版本。然後直接用 Bootstrap的Forms作模板。
切換功能 接下來就是複習 jQuery語法的時候，因為這邊用到的功能不難所以不多講。大概方向就是在click動作上建立一個判斷式，判斷目前是 Login轉 Sign Up要做什麼事；Sign Up轉 Login要做什麼事。這部分的script我是寫在body的最後。">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2017-09-11T07:11:59">
  
  
    <meta property="article:modified_time" content="2017-09-11T07:11:59">
  
  
  
    
      <meta property="article:section" content="Programming">
    
  
  
    
      <meta property="article:tag" content="PHP">
    
      <meta property="article:tag" content="MySQL">
    
      <meta property="article:tag" content="Login">
    
      <meta property="article:tag" content="Signup">
    
      <meta property="article:tag" content="Logout">
    
      <meta property="article:tag" content="myslqi_real_escape_string">
    
      <meta property="article:tag" content="hash">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@CH_Howard_Wang">


  <meta name="twitter:creator" content="@CH_Howard_Wang">










  <meta property="og:image" content="https://www.gravatar.com/avatar/e12ac4071c32d983430149bd0c14f9c6?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/e12ac4071c32d983430149bd0c14f9c6?s=640">


    <title>實作簡單登入會員系統(1)</title>

    <link rel="icon" href="https://idontwannarock.github.io/hugo_blog/favicon.png">
    

    

    <link rel="canonical" href="https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://idontwannarock.github.io/hugo_blog/css/style-nnm2spxvve8onlujjlegkkytaehyadd4ksxc1hyzzq9a2wvtrgbljqyulomn.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-106499565-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="5">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://idontwannarock.github.io/hugo_blog/">Wang&#39;s Blog</a>
  </div>
  
    
      <a class="header-right-icon open-algolia-search"
         href="https://idontwannarock.github.io/hugo_blog/#search">
    
    
      <i class="fa fa-lg fa-search"></i>
    
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="5">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://idontwannarock.github.io/hugo_blog/#about">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/e12ac4071c32d983430149bd0c14f9c6?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Howard Wang</h4>
        
          <h5 class="sidebar-profile-bio">On the road to be a productive and open-minded programmer.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/idontwannarock" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/howard.wang.3990" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-facebook"></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.linkedin.com/in/cheng-hao-wang-a2298289/" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
      
      <span class="sidebar-button-desc">Linkedin</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://twitter.com/CH_Howard_Wang" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://idontwannarock.github.io/hugo_blog/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="5"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-center">
  
    <h1 class="post-title" itemprop="headline">
      實作簡單登入會員系統(1)
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-09-11T07:11:59&#43;08:00">
        
  September 11, 2017

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://idontwannarock.github.io/hugo_blog/categories/programming">Programming</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              

<h1 id="table-of-contents">Table of Contents</h1><nav id="TableOfContents">
<ul>
<li><a href="#學習目標">學習目標</a></li>
<li><a href="#學習內容">學習內容</a>
<ul>
<li><a href="#構思">構思</a></li>
<li><a href="#版面設定">版面設定</a></li>
<li><a href="#切換功能">切換功能</a></li>
<li><a href="#設置資料庫">設置資料庫</a></li>
<li><a href="#連接資料庫">連接資料庫</a></li>
<li><a href="#設計結構">設計結構</a></li>
<li><a href="#ajax傳資料">ajax傳資料</a></li>
<li><a href="#login驗證功能">Login驗證功能</a></li>
<li><a href="#php語法跟函數庫">PHP語法跟函數庫</a></li>
<li><a href="#sign-up功能">Sign Up功能</a></li>
<li><a href="#login功能-cookie-session">Login功能 -&gt; cookie | session</a></li>
<li><a href="#登入狀態表示">登入狀態表示</a></li>
<li><a href="#sql-injection及-xss簡單防範">SQL Injection及 XSS簡單防範</a></li>
<li><a href="#儲存密碼-hash及-salting">儲存密碼 - hash及 salting</a></li>
</ul></li>
<li><a href="#感想">感想</a></li>
</ul>
</nav>

<h1 id="學習目標">學習目標</h1>

<ol>
<li>實作簡單會員系統，有加入會員、登入、登出</li>
<li>cookie</li>
<li>防範 SQL Injection+XSS</li>
<li>hash密碼</li>
</ol>

<h1 id="學習內容">學習內容</h1>

<h2 id="構思">構思</h2>

<p>坦白說，我有自學過一點點前後端的 Udemy網路課程，所以前端的部分，簡單的 HTML, CSS, Javascript, jQuery我還可以，大概是不會寫也可以谷哥看別人怎麼寫的程度。後端也是學過簡單的 PHP跟 MySQL這樣。所以後面的說明很可能會省略很多基礎，而只記錄我不太會或不太熟的部分。</p>

<p>關於會員系統，Udemy課程的老師其實有教過這個部分，但當時似懂非懂，幾乎就是 copy老師的程式碼，糊里糊塗就寫出來，PHP跟 MySQL的部分一片模糊，所以先來嘗試自己重新寫一遍，不行再來找找看網路教學。</p>

<p>要寫登入登出的功能，我第一個想到就是要用 HTML的<code>form</code>先做三個<code>input</code>跟一個<code>button</code>，若要串接資料庫，應該還要再作一個<code>button</code>切換 Sign Up跟 Login畫面來作區別。預計應該要用 jQuery控制切換 Sign Up/Login的功能。</p>

<p>然後後端邏輯應該就是先作 Sign Up/Login資料的驗證部分，用<code>ajax</code>傳輸資料到後端，檢查輸入的<code>username</code>、<code>email</code>跟<code>password</code>是否空白、格式是否正確以及是否重複，用<code>echo</code>輸出錯誤提示訊息給前端。</p>

<p>接著作 Sign Up部分，接著剛剛驗證完資料正確後，檢查資料庫有無重複資料後，再把<code>username</code>、<code>email</code>跟<code>password</code>存進資料庫。</p>

<p>最後再作 Login部分，先用使用者輸入的<code>username</code>比對資料庫有無紀錄，再比對<code>password</code>，最後輸出 Login成功訊息。這邊會感覺會需要了解<code>$_SESSION</code>跟<code>$_COOKIE</code>怎麼運作，因為要幫 Sign Up/Login成功的使用者加上<code>$_SESSION</code>或<code>$_COOKIE</code>。</p>

<p>接著作 SQL Injection及 XSS攻擊的防範。最後再將使用者 Sign Up時輸入的<code>password</code>作 hash處理。</p>

<p>另外以下是以只架站在自己 Windows電腦的 XAMPP上為前提，XAMPP架站簡單教學可以看我之前寫的這篇筆記：<a href="https://idontwannarock.github.io/hugo_blog/2017/09/xampp-setup-1/">XAMPP安裝設定及簡單 PHP練習</a>。</p>

<p>還有就是如果想要讓自己寫完的作品可以讓別人看到，可能要自己先想辦法查做法，我自己都還搞不太清楚。（攤手）</p>

<h2 id="版面設定">版面設定</h2>

<p>所以就從寫個<code>form</code>、三個<code>input</code>跟兩個按鈕開始好了。我猶豫了一下要不要用 Bootstrap，還是用好了，畢竟練習的重點在後端，畫面就直接套用現成的版就好。</p>

<p>所以直接就貼上 Bootstrap 4的<a href="https://v4-alpha.getbootstrap.com/getting-started/introduction/#starter-template">Starter template</a>，因為後面要用<code>ajax</code>，所以 jQeury的版本記得從 slim換成最起碼 min的版本。然後直接用 Bootstrap的<a href="https://v4-alpha.getbootstrap.com/components/forms/#form-controls">Forms</a>作模板。</p>

<h2 id="切換功能">切換功能</h2>

<p>接下來就是複習 jQuery語法的時候，因為這邊用到的功能不難所以不多講。大概方向就是在<code>click</code>動作上建立一個判斷式，判斷目前是 Login轉 Sign Up要做什麼事；Sign Up轉 Login要做什麼事。這部分的<code>script</code>我是寫在<code>body</code>的最後。</p>

<p>切換畫面有個小技巧記錄一下，作一個隱藏的<code>input</code>，然後設定<code>value=&quot;1&quot;</code>，這樣在用 jQuery判斷的時候用這個值作判斷條件會比較簡單。不然只是純粹要切換畫面修改 CSS，應該用<code>.toggleClass()</code>就可以了。</p>

<p>前端的部分大概就這樣，接下來開始練習後端部分。</p>

<h2 id="設置資料庫">設置資料庫</h2>

<p>先去 XAMPP的 Control Panel把 MySQL打開，然後去瀏覽器輸入<code>http://localhost:8080</code>來進去 Apache Friend頁面，點選右上角的 phpMyAdmin進入資料庫管理的頁面。直接左邊點選 New來建立一個新的資料庫，我設定資料庫名字為<code>user</code>，新 table名稱<code>userData</code>，四欄分別是<code>id</code>、<code>username</code>、<code>email</code>跟<code>password</code>，並設定<code>id</code>欄位為 Primary Key以及 Auto Increment。</p>

<p>設定 Primary Key的目的是確保此欄位的每一筆資料都是獨一無二的；Auto Increment則是讓資料庫自動遞增設定<code>id</code>。</p>

<h2 id="連接資料庫">連接資料庫</h2>

<p>接下來就要用 PHP的 mysqli函數庫語法嘗試連接資料庫，我是用以下方法，並用 PHP的<code>print_r</code>來顯示連結問題。</p>

<pre><code class="language-php">    $link = mysqli_connect(&quot;localhost:3306&quot;, &quot;root&quot;, &quot;&quot;, &quot;user&quot;);  
    if(mysqli_connect_errno()) {  
        print_r(mysqli_connect_error());  
        exit();  
    }
</code></pre>

<p>記錄一下<a href="http://php.net/manual/en/function.mysqli-connect.php"><code>mysqli_connect</code></a>的語法是<code>(host, username, password, dbname)</code>。這邊因為是本機，所以<code>host</code>就是<code>localhost:3306</code>，3306是 XAMPP預設給 MySQL的 port，如果你有調整，這邊就要相應的更改；本機上的<code>username</code>就是<code>root</code>，不確定可以到 phpMyAdmin的首頁看；<code>password</code>預設應該就是沒有，如果有設定（我還真不知道怎麼設定）這邊就要改；最後<code>dbname</code>是剛剛設定的<code>user</code>。</p>

<p><code>mysqli</code>是 PHP的 MySQL函數庫增強版，功能更強，安全性更好；所以之前的<code>mysql</code>已經漸漸淘汰不用。</p>

<p>接著則是用<code>mysqli_connect_errno()</code>來判斷連接是否有錯誤，若有錯誤則用<code>print_r</code>來顯示<code>mysqli_connect_error()</code>的錯誤訊息。</p>

<p><a href="http://php.net/manual/en/mysqli.connect-errno.php"><code>mysqli_connect_errno()</code></a>是回傳最近一次連接的錯誤「代碼」；<a href="http://php.net/manual/en/mysqli.connect-error.php"><code>mysqli_connect_error()</code></a>則是回傳最近一次連接的錯誤「訊息」。</p>

<p>最後則用<code>exit()</code>來停止繼續執行 script（官方文件側面證明 PHP是 script？XD）。括號裡面可以填上停止執行同時要顯示的訊息，若裡面填上 integer（0-254之間），則會被用來當錯誤代碼而且不會顯示出來。功能跟<code>die()</code>是一樣的。</p>

<h2 id="設計結構">設計結構</h2>

<p>再來先講一下設計的檔案結構。</p>

<p>因為我在 Udemy上的課最後的作業是把常用的 function單獨存成一個<code>function.php</code>的檔案，然後把會跟<code>index.php</code>直接互動的部分放在<code>action.php</code>並且在開頭就<code>include(&quot;function.php&quot;);</code>這樣來操作。</p>

<p>據說這叫 MVC啦，我也不是很懂，但覺得這樣分開蠻清楚的，就這樣作吧~</p>

<h2 id="ajax傳資料">ajax傳資料</h2>

<p>接著要寫<code>ajax</code>傳資料的功能。</p>

<p>在前面切換 Login/Signup按鈕的後面，我是先寫這樣來測試<code>ajax</code>功能是否正常傳送我要傳送的資料：</p>

<pre><code class="language-jquery">    $.ajax({  
        type: &quot;POST&quot;,  
        url: &quot;action.php?action=loginSignup&quot;,  
        data: 
            &quot;username=&quot; + $(&quot;#username&quot;).val()
            + &quot;&amp;email=&quot; + $(&quot;#email&quot;).val()
            + &quot;&amp;password=&quot; + $(&quot;#password&quot;).val()
            + &quot;&amp;loginActive=&quot; + $(&quot;#loginActive&quot;).val(),  
        success: function() {  
            alert(&quot;username=&quot; + $(&quot;#username&quot;).val()
            + &quot;&amp;email=&quot; + $(&quot;#email&quot;).val()
            + &quot;&amp;password=&quot; + $(&quot;#password&quot;).val()
            + &quot;&amp;loginActive=&quot; + $(&quot;#loginActive&quot;).val());  
        }  
    })
</code></pre>

<p>這邊其實是設定用<code>POST</code>傳送<code>data</code>內的訊息，但也同時用<code>GET</code>的方式傳送一個<code>action=loginSignup</code>的訊息來說明要作 Login/Signup的動作，讓後端執行<code>action.php</code>的時候，知道要做哪個動作，我在<code>action.php</code>內也會相應的寫上判斷<code>$_GET['action'] == &quot;loginSignup&quot;</code>的條件。這算是為未來可以把這個功能套用到別的地方使用的功能標記方法。</p>

<p>順便記錄一下<code>GET</code>跟<code>POST</code>的差別。<code>GET</code>會把要傳送到 server的資訊以明碼的方式放在 URL網址後面，長度有限制；<code>POST</code>則是將資料放在 http request裡面，是隱藏的，相對沒有長度限制。這兩種都是 http協定中定義的跟伺服器互動的方式。我覺得這篇講得蠻簡單明白：<a href="http://happycoder.org/2017/07/02/golang101-tutorial-web-basic/">Go Web 程式設計入門教學：Web 基礎</a></p>

<p>如果按了 Submit按鈕有跳出<code>alert</code>顯示<code>data</code>的內容，就表示作對了。</p>

<h2 id="login驗證功能">Login驗證功能</h2>

<p>這時候先到<code>index.php</code>表格上方增加一個隱藏的<code>div</code>，<code>id</code>設為<code>loginAlert</code>。</p>

<p>接著到<code>ajax</code>的<code>success</code>改成以下：</p>

<pre><code class="language-javascript">    success: function(result) {  
        if (result) {
            $(&quot;#loginAlert&quot;).html(result).show();
        }  
    }
</code></pre>

<p>用意是先把所有<code>action.php</code>回傳的東西，傳到<code>id</code>為<code>loginAlert</code>的這個<code>div</code>並顯示出來。</p>

<p>接著到<code>action.php</code>用各種判斷式判斷<code>username</code>、<code>email</code>跟<code>password</code>是否空白或符合格式，若不符合，就儲存一段顯示錯誤的話進另外設定的變數<code>$error</code>，到最後判斷<code>$error</code>是否空白，若否則<code>echo $error;</code>並<code>exit();</code>，也就是把<code>$error</code>裡面的錯誤訊息傳回<code>ajax</code>之後，停止繼續執行<code>action.php</code>。</p>

<p>這邊需要一些判斷式觀念，記錄一下基礎：</p>

<ol>
<li><code>if</code>是判斷<code>()</code>內的條件是否為真後，執行<code>{}</code>內的內容。</li>
<li><code>if...else</code>是判斷<code>()</code>內的條件是否為真後，執行<code>if</code>接著的<code>{}</code>內容；不為真則執行<code>else</code>接著的<code>{}</code>內容。</li>
<li><code>if...else if</code>是先判斷<code>if</code>後<code>()</code>的條件，為真則執行接著的<code>{}</code>內容；不為真，則再開始判斷<code>else if</code>接著的<code>()</code>內條件，為真則執行接著的<code>{}</code>內容。最後還可以再接<code>else</code>，作用為當<code>if</code>跟<code>else if</code>判斷式 <strong>皆</strong> 不為真的時候，執行接著的<code>{}</code>內容，此為 optional。</li>
<li>需要多條件判斷有兩種方案，一是在<code>if</code>判斷式中用<code>and</code>、<code>or</code>這種聯立條件的方式，但這種是 <strong>同時</strong> 判斷多條件；若需要 <strong>依序</strong> 判斷多條件，則採用<code>if...else if</code>的方式。</li>
</ol>

<p>但想像是美好的，現實是骨感的，一執行立刻就碰到問題：alert區塊一閃而逝，好像畫面重新刷新，所以 alert區塊又重新回到隱藏的狀態。這邊很顯然是 Submit按鈕的問題，剛好作個筆記，要記得把 Submit按鈕的<code>type</code>改成<code>button</code>，若是維持原來的<code>submit</code>，每次按下去就會刷新畫面，<code>ajax</code>帶動的效果就都跑掉了。</p>

<p>對了，還要記得去 XAMPP Control Panel把 MySQL也打開，不然也會悲劇XD</p>

<h2 id="php語法跟函數庫">PHP語法跟函數庫</h2>

<p>接著要先學習一些 PHP跟 SQL的寫法，語法可以到<a href="https://www.w3schools.com/default.asp">w3schools</a>或<a href="http://php.net/manual/en/index.php">PHP官網</a>查詢。先記錄幾個用到的：</p>

<ul>
<li><a href="https://www.w3schools.com/sql/default.asp">SQL</a>

<ol>
<li><a href="https://www.w3schools.com/sql/sql_where.asp"><code>SELECT 範圍 FROM table名稱 WHERE 判斷式</code></a>：這個功能是按照<code>判斷式</code>回傳指定 table裡面的資料。<code>範圍</code>就是要選取的欄位，全選就填上<code>*</code>。</li>
<li><a href="https://www.w3schools.com/sql/sql_insert.asp"><code>INSERT INTO table名稱 (</code>欄位一<code>,</code>欄位二<code>, ...) VALUES ('欄位一資料', '欄位二資料', ...)</code></a>：在指定 table裡面增加資料。</li>
<li><a href="https://www.w3schools.com/sql/sql_update.asp"><code>UPDATE table名稱 SET 範圍 WHERE 判斷式</code></a>：依照<code>判斷式</code>更新指定 table裡面指定欄位的指定資料。</li>
<li><code>LIMIT</code>：是 MySQL特有的子句，通常接在<code>SELECT</code>句子的最後面，用來限制回傳的資料筆數。功能類似<code>TOP</code>跟<code>ROWNUM</code>。</li>
</ol></li>
<li>PHP各種<a href="http://php.net/manual/en/reserved.variables.php">預設變數</a>、<a href="http://php.net/manual/en/ref.var.php">變數控制函數</a>、<a href="http://php.net/manual/en/book.mysqli.php"><code>mysqli</code>函式庫</a>

<ol>
<li><a href="http://php.net/manual/en/mysqli.query.php"><code>mysqli_query($link, $query)</code></a>：對資料庫執行一次動作。<code>$link</code>通常是要事先用<code>mysqli_connect</code>設定好連結的資料庫；<code>$query</code>通常代表用 SQL指令設定好要執行的動作。</li>
<li><a href="http://php.net/manual/en/mysqli-result.num-rows.php"><code>mysqli_num_rows</code></a>：讓資料庫回傳查詢到的資料筆數。</li>
<li><a href="http://php.net/manual/en/mysqli-result.fetch-assoc.php"><code>mysqli_fetch_assoc($result)</code></a>：獲取某指定資料同列（同 Primary Key）的所有資料，<code>$result</code>代表要參照的資料。</li>
<li><a href="http://php.net/manual/en/mysqli.insert-id.php"><code>mysqli_insert_id($link)</code></a>：取得前一次對資料庫執行動作（通常是<code>INSERT</code>）而自動產生的<code>id</code>，<code>id</code>欄位須具備 Auto Increment屬性。</li>
</ol></li>
</ul>

<p>我其實沒有正規的拿一本 PHP或 SQL的書來念，基本上都是上前面提到的<a href="https://www.w3schools.com/default.asp">w3schools</a>跟<a href="http://php.net/manual/en/index.php">PHP官網</a>這兩個網站查各種功能怎麼用，所以也許觀念不見得非常正確。</p>

<p>另外有關於 mysqli函數庫的部分，他支援兩種表達方法：object-oriented跟 procedural。我這邊都是用 procedural。</p>

<h2 id="sign-up功能">Sign Up功能</h2>

<p>再來準備寫 Sign Up加入會員的功能，這邊就要牽扯到把會員資料記錄進資料庫的部分。記得要把這些功能寫在<code>action.php</code>的<code>echo $error; exit();</code>這個部分的後面，否則會變成前面判斷輸入資料有問題還繼續執行寫入資料的問題。</p>

<p>首先要加入會員，都要先判斷剛填好的<code>username</code>跟<code>email</code>是否有跟資料庫內的重複。我是用<code>mysqli_num_rows</code>來作判斷式，大於0就表示有資料這樣。然後用<code>INSERT INTO</code>來新增資料到資料庫。</p>

<h2 id="login功能-cookie-session">Login功能 -&gt; cookie | session</h2>

<p>然後登入會員是用<code>mysqli_fetch_assoc()</code>來抓比對到的<code>username</code>同組資料，再跟<code>POST</code>裡的<code>password</code>比對。</p>

<p>接下來就是要研究 session跟 cookie的差別以及用法。我查到這篇<a href="http://blog.webgolds.com/view/353">[簡明] COOKIE與 SESSION 的基本原理</a>寫得蠻清楚的。</p>

<p>我最後選擇用 cookie，因為感覺比較像是目前普遍的做法，加入會員後不用每次進入網站都要重新登入，但設定每次登入只維持登入狀態一個月。</p>

<p>這裡同樣列出用到的 PHP語法：</p>

<ol>
<li><a href="https://www.w3schools.com/php/php_cookies.asp"><code>setcookie('變數名稱', '變數值', '保存時間')</code></a>：建立 cookie，保存時間是以秒為單位；如果要強制消滅 cookie，就把保存時間設定為負數。</li>
<li><code>time()</code>：目前時間。這裡是用來結合<code>setcookie</code>的保存時間使用。</li>
</ol>

<p>我的作法是結合前面的判斷式，在判斷出可以加入會員以及可以登入那邊加上<code>setcookie</code>，並原則上設定30天(<code>time()+60*60*24*30</code>，並<code>echo &quot;1&quot;;</code>)來回傳一個<code>1</code>跟<code>ajax</code>表達目前是已經登入的狀態。</p>

<p>然後回到<code>index.php</code>的<code>ajax</code>那邊，將原來長這樣的：</p>

<pre><code class="language-javascript">    success: function(result) {  
        if (result) {
            $(&quot;#loginAlert&quot;).html(result).show();
        }  
    }
</code></pre>

<p>改成這樣：</p>

<pre><code class="language-javascript">    success: function(result) {  
        if (result) {
            window.location.assign(&quot;http://localhost:8080/login-signup/&quot;);
        } else {
            $(&quot;#loginAlert&quot;).html(result).show();
        }  
    }
</code></pre>

<p>這裡的<a href="https://www.w3schools.com/jsref/met_loc_assign.asp"><code>location.assign</code></a>是讓首頁重跑一遍，回到原始狀態，但已經建立好的 cookie不會消失，所以還是登入的狀態。所以後面的網址要填上最初始首頁的完整網址。這樣做可以把 GET放在網址列後面的資訊消除。</p>

<h2 id="登入狀態表示">登入狀態表示</h2>

<p>接著要回到<code>index.php</code>的表格那邊作一些調整。讓 client端在載入網頁的時候先判斷有無 cookie存在，若有就顯示&rdquo;You have successfully logged in!&ldquo;，若無則顯示原本的表格。若你有另外作 Logout按鈕，作法類似。</p>

<p>我這邊還有參考 w3schools用<a href="https://www.w3schools.com/js/js_cookies.asp">Javascript設定跟尋找 cookie的方法</a>。<br />
作出來的作品可以參考這裡：
<a href="http://idontwannarock-com.stackstaging.com/project/login-signup/">作品網站 Sign Up Login Function</a><br />
<a href="https://github.com/idontwannarock/Tiny-Projects-and-Functions/tree/master/login-signup">我放在 Github的原始碼</a></p>

<p>當然，為了放在託管 server跟資料庫給大家直接試驗網頁，實際路徑跟資料庫等等會跟上面敘述的有差別。</p>

<h2 id="sql-injection及-xss簡單防範">SQL Injection及 XSS簡單防範</h2>

<p>我在網路上參考了這兩個網站來理解 SQL Injection跟 XSS。<br />
<a href="https://pcrookie.com/?p=1950">你知道什麼是「SQL Injection」(SQL攻擊)嗎？</a><br />
<a href="https://www.hkitblog.com/?p=23318">甚麼是 XSS？簡介黑客常用攻擊技倆</a></p>

<p>就我的粗淺的了解，SQL Injection跟 XSS都是 client端的攻擊手法，最常見的攻擊方法都是透過一個網頁中的輸入欄位（在我們這個作品當中就是各個<code>input</code>位置），來植入一些惡意的代碼，讓後來的瀏覽者或使用者碰到一些惡意的狀況、資料被偷取、被植入木馬等等。</p>

<p>而同樣就我理解到的簡單防範方法，就是先處理<code>input</code>傳過來的資料，轉換到我們需要的資料型態，來避免一些特殊符號如<code>&gt;/&lt;^&amp;$#@</code>等等。</p>

<p>我這邊用到的是 PHP mysqli函式庫的<code>mysqli_real_escape_string($link, $data)</code>，要注意的是這個函式必須填上代表連線到資料庫的<code>$link</code>，<code>$data</code>則是要轉換成字串(string)的資料。<code>mysqli_real_escape_string</code>這個函式會將定義的特殊符號作轉換來避免一些 SQL Injection跟 XSS的狀況。我是將所有會要跟資料庫作互動的<code>$_POST</code>都作處理。</p>

<p>請注意這個並不是一個完善的防範方法，只是作一個簡單的防範。</p>

<h2 id="儲存密碼-hash及-salting">儲存密碼 - hash及 salting</h2>

<p>基本上如同胡立大大所說：「一個正常的網站是不會知道使用者的密碼是什麼的。」</p>

<p>就我的理解，一般來說如同這樣的會員功能，網站在接收到使用者傳輸的密碼的同時，就會進行密碼加密。</p>

<p>而早期通常會以 hash的方式，例如<code>md5</code>加密，然後就存進系統。基本上就是把密碼通過 md5設定的某種轉換模式，轉成一長串字串，一個字串只會對應一個密碼，而這種加密方式很難反向破解；所以最簡單的破解手法是建立常見的密碼 - 字串轉換表來對應，所以才會常常看到各種網站在加入會員的時候讓大家設定字母與數字混雜，而且不能是常用的密碼，來避免被駭客找到對應的字串作破解。</p>

<p>但這種方式比較大的問題是使用者常常記不得自己設定的密碼，所以後來又產生一種 salting的作法，也就是在 hash以前，在密碼的前面或後面加入一些基於特定規則或亂數產生的字串，用來增加密碼長度，或利用亂數來增加破解難度。</p>

<p>我是採取<a href="http://php.net/manual/en/function.password-hash.php"><code>password_hash</code></a>的作法，這個 PHP的函數本身就有包括 salting，所以直接寫這樣來 hash：</p>

<pre><code class="language-php">    password_hash($_POST['password'], PASSWORD_DEFAULT)
</code></pre>

<p>但有件事要記得，用<a href="http://php.net/manual/en/function.password-hash.php"><code>password_hash</code></a>函數來 hash的話，Login時就要用<a href="http://php.net/manual/en/function.password-verify.php"><code>password_verify</code></a>函數來作判斷式來比對<code>password</code>。艾租以~</p>

<h1 id="感想">感想</h1>

<p>恭喜我作完這個簡單的功能，結果就是用網路查了一堆功能跟說明，倒是沒有直接搜尋 PHP登入怎麼做，不知道這樣算不算自己作？XD</p>

<p>就先這樣吧，之後再來加上忘記密碼重設的部分~</p>

<p>再次附上作品網站跟 Github原始碼網址：<br />
<a href="http://idontwannarock-com.stackstaging.com/project/login-signup/">作品網站 Sign Up Login Function</a><br />
<a href="https://github.com/idontwannarock/Tiny-Projects-and-Functions/tree/master/login-signup">我放在 Github的原始碼</a></p>

<p>我又重構了一遍，嘗試增加以及改進一些部分。實作筆記在這：<a href="https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function-2/">實作簡單登入會員系統(2)</a></p>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/php/">PHP</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/mysql/">MySQL</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/login/">Login</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/signup/">Signup</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/logout/">Logout</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/myslqi_real_escape_string/">myslqi_real_escape_string</a>

  <a class="tag tag--primary tag--small" href="https://idontwannarock.github.io/hugo_blog/tags/hash/">hash</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://idontwannarock.github.io/hugo_blog/2017/09/git-and-github-basic-1/" data-tooltip="Git及 GitHub基礎認識">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://idontwannarock.github.io/hugo_blog/2017/09/xampp-setup-1/" data-tooltip="XAMPP安裝設定及簡單 PHP練習">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 <a href="https://github.com/idontwannarock">Wang Cheng Hao</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://idontwannarock.github.io/hugo_blog/2017/09/git-and-github-basic-1/" data-tooltip="Git及 GitHub基礎認識">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://idontwannarock.github.io/hugo_blog/2017/09/xampp-setup-1/" data-tooltip="XAMPP安裝設定及簡單 PHP練習">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=https://idontwannarock.github.io/hugo_blog/2017/09/login-signup-function/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#table-of-contents">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="5">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fidontwannarock.github.io%2Fhugo_blog%2F2017%2F09%2Flogin-signup-function%2F">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fidontwannarock.github.io%2Fhugo_blog%2F2017%2F09%2Flogin-signup-function%2F">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/e12ac4071c32d983430149bd0c14f9c6?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Howard Wang</h4>
    
      <div id="about-card-bio">On the road to be a productive and open-minded programmer.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Software Engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Taipei, Taiwan
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Search" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no post found</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2018/09/%E7%90%86%E8%AB%96%E6%B7%BA%E8%AB%87%E7%90%86%E6%80%A7%E6%B1%BA%E7%AD%96%E6%A8%A1%E5%BC%8F/">
                <h3 class="media-heading">理論淺談：理性決策模式</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">這系列文章包括了我之前在洞見初期寫的一些文章，收錄到這邊，算是留個紀念，也順便重新編輯一下內容
前言 最近在我身邊發生一件事，讓我生出生不如死的念頭…不是，是興起介紹另一個外交決策模式的念頭，接著理查德介紹組織決策模式之後，要介紹的是理性決策模式
總之，在一個夜黑風高的夜晚，在我的小套房裡，趴在旁邊床上的女朋友，突然放下翻閱中而且封面是安室奈美惠大正妹的 ViVi 雜誌，這時我有了一種不好的預感，然後她轉頭嘟著嘴對我說：「北鼻，我想吃東西，你去買給我。」
我就知道，天無三日晴，爽久了總是要付出代價，於是開始思考…
新聞報導現在外面 13 度，又下著綿綿細雨，實在不想出門，不過如果我說不的話，可愛的女朋友可能就會變身恐怖的女魔王，搞不好今晚就得睡地板，得不償失。只好想想去哪買比較符合女友心意又不會太遠。義大利麵應該是個好選擇，咖哩飯也不錯，這麼冷也蠻想吃火鍋的，燒烤也蠻久沒吃了…
理性決策模式基本概念 以上的故事情節，其實與今天要介紹的另一種外交決策模式—理性決策模式非常類似
跟理查德之前介紹的組織決策模式一樣，此模式也是從古巴飛彈危機的研究中發展出來的，由 Graham Allison 於 Essence of Decision: Explaining the Cuban Missile Crisis 一書中提出，也是一種我們生活上常用到的決策模式
理查德介紹組織決策模式一文點此 連結
而理性決策基本的模式就是，界定情勢 -&gt; 選取目標 -&gt; 尋求所有可行的方案 -&gt; 選項排序 -&gt; 做出選擇
ok，我知道你們不是想聽這個，那我們換個方式好了
就如同筆者故事裡敘述的，一遇到問題 (外面冷得半死，女友還要我去買東西吃)，我首先做的就是界定情勢 (說不，女友可能變女魔王)，然後選取目標 (只好找女友喜歡又不遠的地方買東西)，再來尋求所有可行的方案 (義大利麵、咖哩飯、火 鍋、燒烤)，按照女友喜歡程度以及遠近 (效用) 排序，最後再做決定
如何，夠簡單明瞭嗎？
其實理性決策模式的核心概念就這麼簡單，如同我們工作一樣，碰到問題總要先收集資料，認清問題的癥結點，確定想達到的目標，列出方案，選擇效用最大 (Utility Maximization) 的方案去執行
這樣有稍微瞭解了嗎？再來我們來談個實際案例好了
案例： 1962 古巴飛彈危機 — 美國成功的封鎖 Blockade 接下來要談談有關古巴飛彈危機的另一面。在理查德介紹組織決策模式的文章中，解釋了蘇聯的 SOP 所造成的錯誤；今天要來介紹甘迺迪政府，在發現蘇聯送到古巴的是彈道飛彈後的決策
繼上次理查德在介紹組織決策模式中提到，因為蘇聯政府 SOP 應用的錯誤 (詳情請見 理查德一文)，以致讓美國發現蘇聯宣稱運送到古巴的「防禦性武器」，實際上是可以運載核彈頭的彈道飛彈，引起軒然大波，甘迺迪總統顯示為頭痛
當時因核武的恐怖平衡，美蘇兩方都曾對於容忍底限作出公開的宣言，理論上雙方應該都有清楚的認知。但蘇聯運送核武到古巴這件事，絕對是對美國底線的嚴重侵犯
照常理來說，赫魯雪夫如果神智清醒，就不應該會做出這種可能引起核戰的決定。但事情已經發生啦，所以美國政府只好卯起來想可能的原因，想要界定情勢，於是做出了幾種猜測：
 假設一，古巴防禦  蘇聯領導人認為美國很明顯可能入侵古巴，於是藉此展示蘇聯抵抗任何美國想要推翻卡斯楚政權行動的決心。而為什麼蘇聯會認為美國很可能會入侵古巴呢？主要是因為在 1961 年發生的豬玀灣事件 Bay of Pigs。簡單來說就是因為 CIA 的情報錯誤，低估了剛當上古巴總理的領導人卡斯楚的實力，而支援古巴游擊政府入侵古巴，結果行動失敗，此為甘迺迪上任後在外交上的一大挫敗，讓國際社會指責美國干涉他國主權，還樹立了卡斯楚的英雄形象  假設二，冷戰政治  在當時雙極國際政治環境下，美國所代表的自由民主陣營對抗著蘇聯所領導的共產社會陣營，只要是對方的損失就是己方的得利，蘇聯不會放棄機會延伸他的全球影響力，尤其是在如此接近對手國海岸的情況下  假設三，飛彈能力  此設想是由甘迺迪提出，他認為蘇聯可能並不滿意他們洲際彈道飛彈 ICBM 的能力。畢竟從蘇聯本土發射 ICBM，再快也快不過美國從土耳其發射飛彈的速度，所以想在離美國非常近的古巴設飛彈基地，並預想先攻的一方，可以在第一波攻擊就摧毀對方反擊的能力  假設四，柏林 — 勝利，交易或陷阱  當時德國分裂成東德與西德，東德有蘇聯的支持，而西德則受到美國為首的西方國家援助。而位於東德心臟地帶的柏林，同樣也分為東柏林與西柏林，東柏林位於鐵幕之中，實施共產制度；西柏林則受到美英法的掌控，施行資本主義。對赫魯雪夫而言，西柏林就像一根針一樣，扎在共產主義的心臟上，赫魯雪夫從二戰後就一直強烈要求西方國家撤出柏林，1961 年更爆發了第三次柏林危機，建起有名的柏林圍牆。在這樣的時空背景之下，甘迺迪政府很自然的對於蘇聯此次的行動，作出跟柏林問題有關的聯想，赫魯雪夫是否又想藉此機會，重提撤出柏林的要求？   在甘迺迪與時任蘇聯外長的 Andrei Gromyko 會晤後，美國決定相信蘇聯是出於柏林問題的考量，作出此次的行動。於是美國最後選取的目標就成為：利用美國的地區優勢，展現出要求撤回古巴飛彈的決心，但同時讓莫斯科政府有時間及空間可以撤回而不受羞辱</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2018/09/%E9%A5%92%E8%88%8C%E8%88%87%E4%BF%84%E7%BE%85%E6%96%AF%E8%BF%91%E4%BB%A3%E5%8F%B2/">
                <h3 class="media-heading">饒舌與俄羅斯近代史</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">這系列文章包括了我之前在洞見初期寫的一些文章，收錄到這邊，算是留個紀念，也順便重新編輯一下內容
前言 相信在台灣長大的小孩，對於俄羅斯的印象大概不外乎都是從課本得來，一方面是台灣國際新聞不爭氣，另一方面是台灣跟俄國近年來的互動實在不多
沒關係，2011 年有兩位喜劇演員，Peter Shukoff (aka Nice Peter) 以及 Lloyd Ahlquist (aka EpicLLOYD)，以 Rap 的方式，創造了一系列的影片 Epic Rap Battles of History（請見其 youtube channel: ERB）
在第二季的最後一部影片 Rasputin vs Stalin. Epic Rap Battles of History Season 2 finale. 中簡單介紹了俄國從沙皇末期到現在的幾位重要人物
今天就藉著這部影片解析來了解一下俄國吧
俄羅斯近代史簡介 首先在開始解析影片之前，要來大概講一下俄國的近代史
在二十世紀初期，沙皇尼古拉二世 (Nicholas II of Russia) 控制的俄羅斯帝國處於風雨飄渺的情況，工業發展比不上歐陸其他強國（尤其是當時威廉二世的德意志帝國跟大英帝國），1905 日俄戰爭還打輸，使得皇權威信江河日下，1914 年爆發的第一次世界大戰則給了這個帝國最後一拳
一戰中因為擋不住德國坦克快攻，國內民生凋敝，最終在帝國首都彼得格勒（Petrograd，也就是現在的聖彼得堡 St Petersburg）引發 1917 年的二月革命，末代沙皇尼古拉二世被迫遜位，羅曼諾夫王朝終結，俄羅斯帝國滅亡，連小公主安娜塔西亞都沒有保住，害得皇太后還要請網友人海搜尋小孫女 (X)
結果新建立的臨時政府才維持了七個月，就又倒在十月革命之下，再經過幾年內戰，1922 年就正式進入蘇聯的時代
接著就是瑞秋懷茲跟裘德洛在二戰史達林格勒槍林彈雨中，邊談戀愛邊狙擊幾個小軍官的時代，也就是史達林 (Joseph Stalin) 從 1922 年掌權到他死的赤化時代，中間經過赫魯雪夫 (Nikita Khrushchev)、布里茲涅夫 (Leonid Brezhnev)、尤里 (Yuri Andropov)、契爾年科 (Konstantin Chernenko)，最後到了哥巴契夫 (Mikhail Gorbachev) 推動民主化改革，導致蘇聯解體，成為今日的獨立國家國協</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2018/04/aop%E5%8F%8Aspring-aop%E7%B0%A1%E8%BF%B0/">
                <h3 class="media-heading">AOP及Spring AOP簡述</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">簡述  AOP(Aspect-Oriented Programming) 是一種基於 OOP(Object-Oriented Programming) 的改進 AOP 是基於動態代理 (Dynamic Proxy) 這種 design pattern AOP 主要的設計對象是切面 (Aspect)，而切面是用來模組化橫切關注點 (Cross-Cutting Concern) 切面需要定義公共功能，但可以明確定義功能在哪裡或以什麼方式應用，而不必修改受影響的類別。如此切面關注點就可以被模組化到特殊的類別 (切面) 裡面  優點  交易相關的邏輯位於同一位置，便於維護與升級 業務邏輯更簡潔，只包含核心業務代碼  AOP術語及概念  Cross-Cutting Concern 橫切關注點：橫跨應用系統多個流程、模組的功能，例如日誌 (Logging)、安全 (Security) 檢查、交易 (Transaction) 等動作，在許多流程的多個位置都需要執行，這種動作就被稱為橫切關注點 Aspect 切面：橫切關注點被模組化後的一種特殊物件；還未模組化前是橫切關注點，抽取後成為一組一組的切面；另一方面來說代理會將一個一個切面重組為橫切關注點 Advice 通知：切面必須要完成的工作或行為，也就是切面的實作內容。切面裡面的各個方法即是一個、一個的通知 Target 目標：被通知的物件，也就是要被橫切的業務邏輯類別 Proxy 代理：向目標物件通知之後創建的對象。容器會建立一個代理，依照設定去縫合 (weave) 切面到應用程式中 JoinPoint 連接點：程序執行的某個特定位置或時機。例如某個類別的某個方法呼叫前、呼叫後、拋出異常後等等。  連接點由兩個因素決定：以方法表示的程式執行點、相對執行點表示的方位。例如 A 類別的 a() 方法執行前的 JoinPoint 連接點決定要素為：執行點 A#a()，方位為執行前的位置 概念類比：JoinPoint 連接點相當於資料庫的紀錄，切面相當於查詢條件  Pointcut 切面定義：每個類別都有多個連接點，類別的所有方法某種程度上都可以想成是 JoinPoint 連接點。AOP通過切面定位到特定的連接點  Spring AOP 簡述  AspectJ：Java 社群最完整、最廣為人知的 AOP 實作 Spring 2.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2018/02/java%E5%AD%97%E4%B8%B2%E5%88%A4%E5%AE%9A1-%E7%A9%BA%E5%AD%97%E4%B8%B2-vs-null/">
                <h3 class="media-heading">Java字串判定(1) - 空字串 vs null</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">前言 因為開始做專題，開始要作資料檢查，首先會要碰到的就是最基本的檢查是否有輸入資料，也就是要檢查字串，記錄一下Java當中有關字串檢查的東西。
去除字串空白 這主要分兩個部分，一是去掉頭尾空白，一是去掉字串中間空白。
去掉頭尾空白就用.trim()，去掉字串中間空白則可以用.replaceAll(&quot; &quot;, &quot;&quot;)的方式簡單完成。
但用replaceAll()方法有個小小的問題，就是萬一碰到的是空白字元，例如\t、\r這種就會有困難，所以必須要用正規表示式來去除，例如：
String str = &quot;\t&quot;; str.replaceAll(&quot;\\s+&quot;, &quot;&quot;);  檢查空值 接著如果要檢查字串是否有東西，要分成檢查兩種狀態，null或空字串。
這邊有幾個方法檢查這個部分，但要注意它們實際功能上的區別。
.length == 0 這個是Java最原始的功能，基本上就是檢查字串長度是否為0，回傳值型態為boolean。
.isEmpty() 這個方法是Java 6.0之後推出用來取代.length() == 0的方法。isEmpty()其實也是在檢查字串長度是否為0，回傳值型態一樣為boolean。
.equals(&quot;&quot;) 這個功能是用字串的比對功能，比對是否為空字串，結果應該會跟前兩個方法相同。
!= null 前面幾個方法都有一個共同的問題：萬一字串為null，全都來不及檢查就會跳NullPointerException。
所以必須要用這個方式檢查是否為Null，再檢查是否為空字串，也就是要寫成類似下面這樣：
String string; if (string != null &amp;&amp; string.isEmpty()) { // things to do when string is neither null nor blank; }  &quot;&quot;.equals(string) 但有一個更簡短的方法&quot;&quot;.equals(string)。
因為用String本身的.equals()方法，會先檢查括號內參數字串是否為null，若是null就會直接回傳false；若參數字串不為null，才會繼續檢查是否跟&quot;&quot;空字串相等。
所以前一段的檢查式就可以縮短如下：
String string; if (!&quot;&quot;.equals(string)) { // things to do when string is neither null nor blank; }  結語 雖然最後一個方法最簡短，但其實可讀性不見得比較優秀；而倒數第二個方法雖然比較囉唆，但整體上可讀性比較好。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/11/java%E6%A8%82%E9%80%8F%E6%8A%BD%E5%8F%96%E7%AE%97%E6%B3%95%E5%88%9D%E6%8E%A2/">
                <h3 class="media-heading">Java樂透抽取算法初探</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">前言 因為做到這個經典練習演算法的題目，雖然是非常入門級的，也是讓我想了很久，覺得都做了這麼久，不記錄下來也是蠻可惜。
題目 請隨機從正整數 1-42當中隨機抽出 6個數字，不用排序，但不可重複。
解法 樂透這個題目主要可以練習的有三個地方，隨機、迴圈，還有就是如何確保數字不重複。
  以 Java來說，隨機就是使用java.lang.Math類別裡的靜態方法random()，但要注意Math.random()之後產生的是大於等於 0、小於 1，也就是0 &lt;= Math.random() &lt; 1的double型態浮點常數。 因此，以這題來說，還要記得利用(int)轉換型態成整數型態的常數。 另外，若不放心浮點數轉換為整數後的值，可以利用一樣是Math類別裡的靜態方法floor()或ceiling()來取無條件進位或無條件捨去後的整數值 而要設定亂數範圍，公式為Math.random() * 範圍個數 + 初值   然後因為已經確定要抽出的數目，所以可以使用元素個數不能變動的陣列，當然也可以用可以變動個數的Collection或其子介面去解決。關鍵就在於不可重複。
這篇只討論陣列的解法。
暴力解：重複檢查 最簡單的寫法肯定就是暴力解：每抽出一個數字就存到結果陣列，然後每抽一次，就跟陣列裡每個數字都比對一次，一有重複就重抽。
// 設定存儲樂透數字陣列 int[] randomArray = new int[6]; // 執行抽取樂透數字的動作 6次 for (int i = 0; i &lt; randomArray.length; i++) { // 先將亂數出來的數字存入陣列第 i個位置 randomArray[i] = (int)(Math.random() * 42) + 1; // 接著執行檢查迴圈 for (int j = 0; j &lt; i; j++) { // 輪流跟陣列中目前存在的其他元素比對 if (randomArray[i] == randomArray[j]) { // 如果有找到重複數字，就將計數器 i減 1，然後重抽 i--; // 注意這邊 break是跳出 if外面一層的 for迴圈 break; } } } // 印出樂透數字陣列中的數字，列印陣列也要用迴圈，這邊是用新版寫法 for (int num : randomArray) { System.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/11/%E6%88%91%E5%9C%A8macbook-pro%E7%9A%84%E8%A8%AD%E7%BD%AE-2017%E7%89%88/">
                <h3 class="media-heading">我在Macbook Pro的設置 - 2017版</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">前言 一直以來都是 PC人，從來沒用過任何 Apple或 Linux的相關產品，剛好有買筆電的需求，想趁機接觸一下不同的作業系統生態，而且久聞 Apple筆電品質很好，就添購了 Macbook Pro來當我人生第一台筆電。
剛拿到筆電總是需要一些設置，盡量讓 PC跟 MBP之間資訊同步以及應用軟體上相通或相容，以達到同步並簡化作業環境的目標，提高生產效率。
於是跟朋友詢問以及上網稍作了解後，有了以下的設置。
軟體環境設置 因為是要習慣 Unix-based的作業環境，所以我並沒有特別強求各方面都要設置到跟 Windows環境類似，所以操作模式上並沒有更動。
但安裝的軟體上就有些考量，希望能達到集中管理，這就不得不提每個 MacOS都應該必備的 Homebrew。
安裝 Homebrew Homebrew是一套開源的 MacOS系統的軟體套件管理系統，用來簡化 MacOS系統上的軟體安裝、卸載等過程，是用 MacOS內建的 Ruby語言寫成。
但 Homebrew在安裝前需要先安裝 Xcode，似乎是因為 Xcode會一併安裝一些常用的 command line。
還好 Xcode也是免費軟體，可以直接透過 App Store下載，要注意檔案蠻大的，下載安裝的過程會要花一點時間。
Xcode安裝好之後，就打開「終端機」，輸入下面這行來下載安裝 Homebrew：
$ ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;  注意第一個$是開啟終端機就會顯示在你可以打字的那一行的開頭，不用重複輸入。
讓他自動跑完之後，就可以開始使用brew指令來操作啦！
日後要更新 Homebrew這個軟體本身，也是一樣在終端機輸入brew update以及brew tap homebrew/dupes就可以了。
安裝 Caskroom 除了 Homebrew以外，第二個推薦安裝的就是 Caskroom，這也是一個軟體套件管理系統，是 Homebrew的擴充。
一般來說 Caskroom主要用來下載安裝一些有操作介面的應用軟體，譬如 Chrome、Spotify、Evernote等等；Homebrew則常用於下載安裝一些沒有操作介面的工具或第三方資源，例如 Git、Hugo、Telnet這種。
Caskroom可以看成 App Store的擴充，並附帶自動安裝管理的功能，而且因為也是開源專案，它能安裝的軟體是由開放社群中的使用者提供維護，有很多 App Store沒有的軟體，當然是正版、免費版或試用版。
而且 Caskroom還有更新管理的功能，除非軟體自帶自動更新功能，否則可以透過 Caskroom統一更新。所以一般來說，Homebrew更偏開發者使用，Caskroom則更適合一般使用者。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/10/markdown-syntax/">
                <h3 class="media-heading">Markdown語法</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Markdown特色 1. 易編寫 相對於 HTML需要注意各種 tag、屬性、特殊字元，Markdown是更容易編寫的方式，雖然無法像 HTML那樣可以直接透過各種屬性，甚至 CSS來達到各種效果，但純粹以書寫來說，Markdown的功能已經相當夠用。
2. 轉換 HTML 不過如果有需要的話，Markdown可以用各種方式轉換成 HTML，以方便我們發布成網頁或部落格文章，網路上有相當多的程式可以達到這點；相對之下，從 HTML轉換回 Markdown就沒這麼方便了，主要原因就是 HTML有相當多屬性等並不被 Markdown支援，所以有轉換回 Markdown的困難。
但還是有補救的辦法，在編寫 Markdown文件的時候，其實還是可以使用 HTML語法的，我使用過的轉換器都可以讀取 HTML語法，並正常顯示以及轉換，所以真的有什麼 Markdown找不到的 HTML功能，就直接寫 HTML吧！當然這就需要對 HTML語法有更多認識了。
3. 編寫／視覺 跟 HTML一樣，在編寫 Markdown的時候呈現的畫面，跟實際呈現的畫面其實是不一樣的。 例如我們編寫 Markdown如下：
- ***This*** is a [sample](http://example.com/ &quot;example.com&quot;).  實際呈現的畫面其實是這樣的：
  This is a sample.   所以在編寫 Markdown的時候，最好找個可以隨時觀看實際畫面的編輯器來確認實際畫面。
區塊元素 換行 原則上按 Enter鍵就是換行。
要注意的是有些轉換器會要求不同的換行字元，例如有些會要求在行尾加上兩個空白，再按 Enter鍵，才代表換行；也有些會要求兩個空白加一個 tab鍵等等，所以建議要找可以即時顯示畫面的編輯器，隨時確認實際畫面。
分段 Markdown是以空白行來分段，原則上就是該行只有一個 Enter就換行。
同樣的，要注意有些編輯器會要求不同的特殊字元來代表空白行。
標題 Markdown支援 Setext以及 atx兩種形式的標題。一般都用 atx語法，標題的階層較多，語法也比較好記。
Setex形式 以底線的方式來表示標題，只有兩種如下：</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/10/%E6%95%B4%E6%95%B8%E6%BA%A2%E4%BD%8D-integer-overflow/">
                <h3 class="media-heading">整數溢位 Integer Overflow</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">前言 這是我查到一些資料後的理解，希望能多一點對整數溢位後為何會正負循環的了解。
數字系統 首先要了解的是數字系統，因為一般電腦是採用二進制(Binary)來作數字計算，而不是我們習慣的十進制(Decimal)。
我們一般人都是用十進制，十進制就是用0、1、2、3、4、5、6、7、8、9十個數字來表達，一個位數就有十種狀態，從 0開始往上累積，超過 9就進一位。
而二進制是什麼呢？二進制就是用0、1兩個數字來表達，一個位數就只有兩種狀態表達，從 0開始往上累積，超過 1就進一位。
以十進制來說，13這個數字其實應該寫成1*10^1 + 3*10^0這樣。10^0是1，也就是代表個位數，乘以幾就是這個位數累積到幾，超過9就進一位到10^1這一位，也就是十位數；再累積超過9，就進位到10^2百位數，以此類推。
那二進制怎麼表達呢？例如有一個二進制的數字長這樣1101，如同十進制，我們可以表達成1*2^3 + 1*2^2 + 0*2^1 + 1*2^0。這樣公式算完的答案其實就是十進制的13，大家可以算一下試試看。其實其他如八進制、十六進制也是相同原理，只不過超過十進制的進制系統，因為阿拉伯數字無法在單一位數表達10以上的數字大小，所以通常會配合英文字母A、B、C、D等等。
另外複習一下國小（國中？）數學，小數點的部分，以我們常用的十進制來說，小數點後第一位是10^-1、第二位是10^-2，以此類推；相對的二進制也是一樣規則，小數點後第一位是2^-1、第二位是2^-2這樣。
電腦基本運算方式 前面說到一般電腦是用二進制運算，這是什麼意思？
舉個例子，今天假設一台電腦，我們拉了第一條電線在裡面，一條電線怎麼表達不同的狀態呢？對，就是通電，有通電是一種狀態，沒通電是一種狀態。當然比較實際的作法是透過電壓，高電壓是一種狀態，低電壓是一種狀態，這樣來表達兩種狀態。
因此一條電線就能表達兩種狀態，剛好符合二進制只用0、1兩個數字來表達所有數字的狀態，而這樣能表達兩種狀態（1或 0）的一條電線就是 1 bit。順便講一下因為某些原因，8 bits被規定為 1 byte。bit就是我們常聽到的位元，byte就是我們更常聽到的位元組。
那 1 bit可以表達兩種狀態，以二進制來說就是可以表達 0跟 1；那 2 bits呢？是四種；那 3 bits呢？是六種？錯，是八種。
我們用列舉的方式說明，3 bits意思是有三條電線各自有 0跟 1兩種狀態，因此我們可以列出有下列八種狀況：
   狀況 第一條電線 第二條電線 第三條電線     一 0 0 0   二 0 0 1   三 0 1 0   四 0 1 1   五 1 0 0   六 1 0 1   七 1 1 0   八 1 1 1    簡略來說就是其實是有 2*2*2=8，也就是 23種狀況；以此類推，n bit（n條電線）就有 2n種狀況。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/09/4th-practice-twitter-clone/">
                <h3 class="media-heading">4th Practice: Twitter Clone</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">第四個目標 練習 PHP, MySQL跟 MVC，因為 Bootstrap很方便所以 HTML跟 CSS就這樣吧廠廠~
作品：史上最簡陋Twitter
參考：這參考太多了，只能說各種參考orz
原始碼：可以參考我的Github
還是要先講一下，這並不是我憑空寫出來的作品，是跟著 Udemy網路課程教學作出來的。
遇到困難 1. 對自己智商產生質疑 真的是這樣，之所以這麼廢的東西還能作這麼久，事後檢討的結果，絕大多數時間都浪費在因為智商太低產生的各種製造障礙，簡稱製障問題上。
譬如說出現什麼 404或 500錯誤訊息，花了三個多小時觀看 stackoverflow上高手討論，最後發現是 PHP某一行少加了一個;，當天直接氣到作不下去之類的…
2. debug 作這個真心受教了，要馬每一步都先作測試，要馬就要會查 bug，人生就是要接受 bug的出現，沒 bug絕對是陰德值爆滿。
所以我目前領悟到的順序是：
  先查 code有沒有漏加什麼;或,或者哪裡括號沒關好，這些出現的頻率超乎你想像，即使有 autocomplete功能也是一樣。 再來用 Chrome的Inspect或 Firefox的Inspector來查錯誤訊息，運氣好就會跟你說你程式碼哪一行有問題。 還找不到，先不要急著 google，先查 Log！先查 Log！先查 Log！很重要，所以講三次。通常 Log也會跟你講執行到哪一行有問題。 最後真的都不行，再拿錯誤訊息去拜 google大神   以上是我的切身之痛，其他的難點在這兩個困難底下，都已經不再重要…喔不是啦，還是補充一個。
3. AJAX 不太確定這算不算常識，但大家在使用 jQuery+AJAX的時候要注意 jQuery的版本，請不要用到 slim版的喔， jQuery slim版把 AJAX功能拿掉了，所以最起碼要用 minified或更完整的版本，切記切記！
尤其在套 Bootstrap 4的模板的時候要注意，官方預設是載入 slim版本的 jQuery，要記得自己去改 cdn。</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://idontwannarock.github.io/hugo_blog/2017/09/3rd-practice-click-click-ben/">
                <h3 class="media-heading">3rd Practice: Click Click Ben</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2017
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">第三個目標 練習 JavaScript跟random()函數。
作品：Click Click Ben
參考：大帥哥 Ben Hsieh ~
遇到困難 1. 帥哥阿Ben照片太難挑 這是我製作這個作品中碰到最大的困難！太多太帥了，我無法選擇！！我的媽！！！誰來救救我！！！！
2. 照片亂數出現位置及亂數間隔時間 其實這個問題我之前就有學過，所以這邊大概紀錄一下作法。
先用 JavaScript的Math.random()來亂數產生 0-1的浮點數，然後為了適應各種大小的視窗，要乘上document.documentElement.clientHeight或document.documentElement.clientWidth來亂數產生要往右或往下多少 px的數字。
然後用document.getElementById(&quot;id&quot;).style.top或document.getElementById(&quot;id&quot;).style.left來設定位置。
亂數間隔時間則用setTimeout()來作，記得括號的兩個參數要用逗點分隔，第一個參數是暫停後要執行的程式，第二個是暫停的時間，單位是千分之一秒。
3. 控制照片出現或消失 原本想都用 JavaScript控制，但發現直接寫好所有 HTML+CSS後，用display: block;跟display: none;來控制最方便。
4. 控制次數 這也沒什麼好說的，只是做個記錄。
最基礎的做法就是設一個變數，然後用if判斷來控制次數。
控制次數感覺可以用for或while loop來寫，但中間要卡一個按的功能，不知道能不能行？</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no post found"
         data-message-one="1 post found"
         data-message-other="{n} posts found">
         18 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('http://res.cloudinary.com/dcvgho2zc/image/upload/v1505436150/cover-night_blurred_mzrymo.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://idontwannarock.github.io/hugo_blog/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/idontwannarock.github.io\/hugo_blog\/2017\/09\/login-signup-function\/';
          
            this.page.identifier = '\/2017\/09\/login-signup-function\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'https-idontwannarock-github-io-hugo-blog';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>

